{"compiler":{"version":"0.8.34+commit.80d5c536"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":true,"internalType":"address","name":"relayer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Claimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":false,"internalType":"string","name":"param","type":"string"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"ConfigUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposited","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":true,"internalType":"address","name":"relayer","type":"address"}],"name":"RelayerAuthorized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":true,"internalType":"address","name":"relayer","type":"address"}],"name":"RelayerRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":true,"internalType":"address","name":"relayer","type":"address"},{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalCost","type":"uint256"}],"name":"SponsoredCallExecuted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":true,"internalType":"address","name":"target","type":"address"}],"name":"TargetAllowed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":true,"internalType":"address","name":"target","type":"address"}],"name":"TargetRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ToppedOff","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sponsor","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"inputs":[],"name":"GAS_MANAGER","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"}],"name":"addAllowedTarget","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"relayer","type":"address"}],"name":"authorizeRelayer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sponsor","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"disableTargetAllowlist","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sponsor","type":"address"}],"name":"getSponsorInfo","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"maxClaimPerTx","type":"uint256"},{"internalType":"uint256","name":"dailyLimit","type":"uint256"},{"internalType":"uint256","name":"dailySpent","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"},{"internalType":"bool","name":"useTargetAllowlist","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sponsor","type":"address"},{"internalType":"address","name":"target","type":"address"}],"name":"isAllowedTarget","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"sponsor","type":"address"},{"internalType":"address","name":"relayer","type":"address"}],"name":"isAuthorizedRelayer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"}],"name":"removeAllowedTarget","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"relayer","type":"address"}],"name":"revokeRelayer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"setDailyLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"setMaxClaimPerTx","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sponsor","type":"address"},{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"sponsoredCall","outputs":[{"internalType":"bytes","name":"result","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sponsor","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"topOff","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}],"devdoc":{"events":{"Initialized(uint8)":{"details":"Triggered when the contract has been initialized or reinitialized."}},"kind":"dev","methods":{"addAllowedTarget(address)":{"params":{"target":"Contract address."}},"authorizeRelayer(address)":{"params":{"relayer":"Address of the relayer."}},"claim(address,uint256)":{"params":{"amount":"Amount of native tokens to claim.","sponsor":"Address of the sponsor to debit."}},"constructor":{"details":"Prevent the implementation contract from being initialised."},"removeAllowedTarget(address)":{"params":{"target":"Contract address."}},"revokeRelayer(address)":{"params":{"relayer":"Address of the relayer."}},"setDailyLimit(uint256)":{"params":{"amount":"Max daily amount in wei."}},"setMaxClaimPerTx(uint256)":{"params":{"amount":"Max amount in wei."}},"sponsoredCall(address,address,uint256,bytes)":{"params":{"data":"Calldata to forward.","sponsor":"Address of the sponsor to debit.","target":"Address to call.","value":"Native tokens to send with the call."},"returns":{"result":"The raw return data from the call."}},"topOff(address,uint256)":{"params":{"amount":"Amount of native tokens to pull.","sponsor":"Address of the sponsor to credit."}},"withdraw(uint256)":{"params":{"amount":"Amount of native tokens to withdraw."}}},"stateVariables":{"_OVERHEAD_GAS":{"details":"Approximate gas overhead for sponsoredCall housekeeping.      Covers: base TX cost (~21k), pre-call checks, post-call      accounting, and reimbursement transfer."}},"version":1},"userdoc":{"events":{"Claimed(address,address,uint256)":{"notice":"Emitted when a relayer claims gas reimbursement."},"ConfigUpdated(address,string,uint256)":{"notice":"Emitted when a sponsor updates a configuration parameter."},"Deposited(address,uint256)":{"notice":"Emitted when a sponsor deposits native tokens."},"RelayerAuthorized(address,address)":{"notice":"Emitted when a relayer is authorised by a sponsor."},"RelayerRevoked(address,address)":{"notice":"Emitted when a relayer is revoked by a sponsor."},"SponsoredCallExecuted(address,address,address,uint256)":{"notice":"Emitted when a sponsored call is forwarded and reimbursed."},"TargetAllowed(address,address)":{"notice":"Emitted when a target contract is added to the allowlist."},"TargetRemoved(address,address)":{"notice":"Emitted when a target contract is removed from the allowlist."},"ToppedOff(address,uint256)":{"notice":"Emitted when a sponsor tops off from the GasManager."},"Withdrawn(address,uint256)":{"notice":"Emitted when a sponsor withdraws native tokens."}},"kind":"user","methods":{"GAS_MANAGER()":{"notice":"The GasManager genesis contract."},"addAllowedTarget(address)":{"notice":"Add a target contract to the sponsor's allowlist.         Enabling the allowlist restricts sponsored calls to         only the listed targets."},"authorizeRelayer(address)":{"notice":"Authorise a relayer address to claim reimbursements."},"claim(address,uint256)":{"notice":"Claim gas reimbursement from a sponsor.         The caller must be an authorised relayer."},"deposit()":{"notice":"Deposit native tokens as a sponsor."},"disableTargetAllowlist()":{"notice":"Disable the target allowlist entirely (all targets allowed)."},"getSponsorInfo(address)":{"notice":"Get a sponsor's current configuration and balances."},"initialize()":{"notice":"Initialise the proxy instance.  Call once via the proxy."},"isAllowedTarget(address,address)":{"notice":"Check whether an address is on a sponsor's target allowlist."},"isAuthorizedRelayer(address,address)":{"notice":"Check whether an address is an authorised relayer for a         given sponsor."},"removeAllowedTarget(address)":{"notice":"Remove a target from the sponsor's allowlist."},"revokeRelayer(address)":{"notice":"Revoke a relayer's authorisation."},"setDailyLimit(uint256)":{"notice":"Set the maximum daily spend across all relayers.         Set to 0 for no limit.  Resets at midnight UTC."},"setMaxClaimPerTx(uint256)":{"notice":"Set the maximum claimable amount per transaction.         Set to 0 for no limit."},"sponsoredCall(address,address,uint256,bytes)":{"notice":"Forward a call to a target and automatically reimburse         the relayer for gas spent.  The caller must be an         authorised relayer."},"topOff(address,uint256)":{"notice":"Pull voter-approved funds from the GasManager contract         and credit them to a sponsor's balance.         Only callable by a GasManager guardian.         Requires an approved fund in GasManager for this contract         address and the requested amount."},"withdraw(uint256)":{"notice":"Withdraw native tokens from the sponsor's balance."}},"version":1}},"settings":{"compilationTarget":{".import_cache/source/GasSponsor.sol":"GasSponsor"},"evmVersion":"prague","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/proxy/utils/Initializable.sol":{"keccak256":"0x89be10e757d242e9b18d5a32c9fbe2019f6d63052bbe46397a430a1d60d7f794","license":"MIT","urls":["bzz-raw://f103ee2e4aecd37aac6ceefe670709cdd7613dee25fa2d4d9feaf7fc0aaa155e","dweb:/ipfs/QmRiNZLoJk5k3HPMYGPGjZFd2ke1ZxjhJZkM45Ec9GH9hv"]},".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/security/ReentrancyGuardUpgradeable.sol":{"keccak256":"0x2025ccf05f6f1f2fd4e078e552836f525a1864e3854ed555047cd732320ab29b","license":"MIT","urls":["bzz-raw://d27f4b23c2dee42394aebaf42bf238285230f472dfd3282a39c3f000ec28214f","dweb:/ipfs/QmQa3DnvccwdWJeWrjgXPnFMTWbzWQWR39hVqC7eEwo2PC"]},".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/utils/AddressUpgradeable.sol":{"keccak256":"0x9c80f545915582e63fe206c6ce27cbe85a86fc10b9cd2a0e8c9488fb7c2ee422","license":"MIT","urls":["bzz-raw://310136ad60820af4177a11a61d77a3686faf5fca4942b600e08fc940db38396b","dweb:/ipfs/QmbCzMNSTL7Zi7M4UCSqBrkHtp4jjxUnGbkneCZKdR1qeq"]},".import_cache/source/GasSponsor.sol":{"keccak256":"0xf977d769a4563e9b034e343ec1934064110167e42a3276c680f3d4627765a545","license":"Apache-2.0","urls":["bzz-raw://395ba1673eb8d05482c8f7159541ddfc6e3ee8efa192b2aadb021d9ce2cc5f12","dweb:/ipfs/QmTTkhhecmMqvoq3nG3PT5kbeSGy2oKbfYCNhRLWyKDcZm"]},".import_cache/source/interfaces/IGasSponsor.sol":{"keccak256":"0xcfa854e28ed4cde5774384385d6b28c403282a0afc679b4083d35421cd000364","license":"Apache-2.0","urls":["bzz-raw://556e3e9023c487c5e805a38df2cc747f3354984630155e59eb317e82a6355807","dweb:/ipfs/QmZYhJpjHj3stAnNGVrycDxQ1PfFBgnnhCCJv3u4mtnMrS"]}},"version":1}