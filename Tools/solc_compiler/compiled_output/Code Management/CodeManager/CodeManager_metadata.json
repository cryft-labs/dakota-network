{"compiler":{"version":"0.8.34+commit.80d5c536"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"string","name":"contentId","type":"string"}],"name":"ContentChangeRouted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"bool","name":"frozen","type":"bool"}],"name":"FrozenStatusRouted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"bool","name":"added","type":"bool"}],"name":"OtherVoterContractUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"privacyGroup","type":"address"},{"indexed":false,"internalType":"bool","name":"authorized","type":"bool"}],"name":"PrivacyGroupAuthorized","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":true,"internalType":"address","name":"redeemer","type":"address"}],"name":"RedemptionRouted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"RegistrationFeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"newValue","type":"uint256"}],"name":"StateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"string","name":"chainId","type":"string"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"UniqueIdsRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":false,"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"target","type":"uint256"}],"name":"VoteCast","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"target","type":"uint256"}],"name":"VoteTallyReset","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"bool","name":"added","type":"bool"}],"name":"VoterUpdated","type":"event"},{"inputs":[],"name":"activeVoteCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeVault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"contractIdentifier","type":"string"}],"name":"getContractData","outputs":[{"components":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"}],"internalType":"struct ICodeManager.ContractData","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"}],"name":"getIdentifierCounter","outputs":[{"internalType":"string","name":"contractIdentifier","type":"string"},{"internalType":"uint256","name":"counter","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSupermajorityThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"getUniqueIdContent","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"getUniqueIdDetails","outputs":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"},{"internalType":"uint256","name":"counter","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"internalType":"uint256","name":"target","type":"uint256"}],"name":"getVoteTally","outputs":[{"internalType":"uint256","name":"totalVotes","type":"uint256"},{"internalType":"uint256","name":"startVoteBlock","type":"uint256"},{"internalType":"uint256","name":"voteExpirationBlock","type":"uint256"},{"internalType":"address[]","name":"votedAddresses","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getVoters","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum CodeManager.VoteType","name":"","type":"uint8"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"hasVoted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isAuthorizedPrivacyGroup","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"isUniqueIdFrozen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"isUniqueIdRedeemed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"potentialVoter","type":"address"}],"name":"isVoter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isWhitelistedAddress","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"otherVoterContracts","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"address","name":"redeemer","type":"address"}],"name":"recordRedemption","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"registerUniqueIds","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"registrationFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"internalType":"uint256","name":"target","type":"uint256"}],"name":"resetExpiredTally","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"string","name":"contentId","type":"string"}],"name":"setUidContent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"bool","name":"frozen","type":"bool"}],"name":"setUidFrozen","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"validateUniqueId","outputs":[{"internalType":"bool","name":"isValid","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteTallyBlockThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voterContract","type":"address"}],"name":"voteToAddOtherVoterContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"name":"voteToAddVoter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newAddress","type":"address"}],"name":"voteToAddWhitelistedAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"privacyGroup","type":"address"}],"name":"voteToAuthorizePrivacyGroup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"voterContract","type":"address"}],"name":"voteToRemoveOtherVoterContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"name":"voteToRemoveVoter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"removeAddress","type":"address"}],"name":"voteToRemoveWhitelistedAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newFeeVault","type":"address"}],"name":"voteToUpdateFeeVault","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"voteToUpdateRegistrationFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_blocks","type":"uint256"}],"name":"voteToUpdateVoteTallyBlockThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"votersArray","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"devdoc":{"events":{"Initialized(uint8)":{"details":"Triggered when the contract has been initialized or reinitialized."}},"kind":"dev","methods":{},"stateVariables":{"isAuthorizedPrivacyGroup":{"details":"Authorized Pente privacy groups that can call router functions."}},"version":1},"userdoc":{"kind":"user","methods":{"getContractData(string)":{"notice":"Returns the contract data (giftContract, chainId) for a given contract identifier."},"getIdentifierCounter(address,string)":{"notice":"Get the counter for a given giftContract + chainId, computed on the fly."},"getUniqueIdContent(string)":{"notice":"Returns the content identifier for a UID, as reported by its gift contract."},"getUniqueIdDetails(string)":{"notice":"Returns the registration details for a unique ID."},"isUniqueIdFrozen(string)":{"notice":"Returns whether a UID is frozen, as reported by its gift contract."},"isUniqueIdRedeemed(string)":{"notice":"Returns whether a UID has been redeemed, as reported by its gift contract."},"isWhitelistedAddress(address)":{"notice":"Returns whether an address is whitelisted."},"recordRedemption(string,address)":{"notice":"Route a redemption from the Pente privacy group to the gift contract.         The gift contract decides how to handle the redemption \u2014 single-use,         multi-use, NFT mint, etc. If the gift contract reverts, the entire         Pente transition rolls back atomically."},"registerUniqueIds(address,string,uint256)":{"notice":"Register a single or batch of unique IDs by incrementing the counter range.         Permissionless \u2014 anyone can call as long as they pay `registrationFee * quantity`.         Works for both direct EOA calls and calls from external contracts.         Payment is forwarded to the feeVault."},"registrationFee()":{"notice":"The fee (in wei) required per unique ID registration."},"resetExpiredTally(uint8,uint256)":{"notice":"Voter-only function to reset an expired tally and decrement the active vote counter.         Call this to clean up stale tallies that would otherwise block voter-pool changes."},"setUidContent(string,string)":{"notice":"Route a content change from the Pente privacy group to the gift contract."},"setUidFrozen(string,bool)":{"notice":"Route a freeze/unfreeze from the Pente privacy group to the gift contract."},"validateUniqueId(string)":{"notice":"Returns whether a unique ID was validly registered (valid counter, valid contract identifier)."},"voteToAuthorizePrivacyGroup(address)":{"notice":"Vote to authorize (or de-authorize) a Pente privacy group address.         Authorized privacy groups can call router functions."}},"version":1}},"settings":{"compilationTarget":{".import_cache/source/CodeManager.sol":"CodeManager"},"evmVersion":"osaka","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/proxy/utils/Initializable.sol":{"keccak256":"0x89be10e757d242e9b18d5a32c9fbe2019f6d63052bbe46397a430a1d60d7f794","license":"MIT","urls":["bzz-raw://f103ee2e4aecd37aac6ceefe670709cdd7613dee25fa2d4d9feaf7fc0aaa155e","dweb:/ipfs/QmRiNZLoJk5k3HPMYGPGjZFd2ke1ZxjhJZkM45Ec9GH9hv"]},".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/utils/AddressUpgradeable.sol":{"keccak256":"0x9c80f545915582e63fe206c6ce27cbe85a86fc10b9cd2a0e8c9488fb7c2ee422","license":"MIT","urls":["bzz-raw://310136ad60820af4177a11a61d77a3686faf5fca4942b600e08fc940db38396b","dweb:/ipfs/QmbCzMNSTL7Zi7M4UCSqBrkHtp4jjxUnGbkneCZKdR1qeq"]},".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/utils/StringsUpgradeable.sol":{"keccak256":"0xb96dc79b65b7c37937919dcdb356a969ce0aa2e8338322bf4dc027a3c9c9a7eb","license":"MIT","urls":["bzz-raw://f8613145881436fc0480fff22da4868d611e2b0c0c3da083334eb4362ce1945a","dweb:/ipfs/QmPqpP3YeRbBdTJRe6Gv2eGsUaANf4J6RwTNRW36iYahfV"]},".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/utils/math/MathUpgradeable.sol":{"keccak256":"0x2bc0007987c229ae7624eb29be6a9b84f6a6a5872f76248b15208b131ea41c4e","license":"MIT","urls":["bzz-raw://2b2835c737d073ef8b82a4cc246495a9740f43e7ff2cf130906b2449ff9bfb91","dweb:/ipfs/QmSCWfNoSvvTN57ic7o1RW6NqSxxGAqbBTnLKc7QHe27qB"]},".import_cache/OpenZeppelin_openzeppelin-contracts-upgradeable/v4.9.6/contracts/utils/math/SignedMathUpgradeable.sol":{"keccak256":"0x88f6b7bba3ee33eeb741f9a0f5bc98b6e6e352d0fe4905377bb328590f84095a","license":"MIT","urls":["bzz-raw://88ace2d60f265752f18903d839910be4e4e104340b2957678585b812447825d4","dweb:/ipfs/QmXFkNxMc3AAGzhs2wUEZyErWQjsvoTGyYjuU5oZkFki5Z"]},".import_cache/source/CodeManager.sol":{"keccak256":"0x78dc3c2f4c18caef666d7471ccdb3d0771b89d7ff419d8e2bb140b57586b4cea","license":"Apache-2.0","urls":["bzz-raw://2f90ae3a2a26a59b6571ff9a971ac4151ac21c6e574cee475e1f4eec9f24b9c4","dweb:/ipfs/QmakQM1WioBs1vmYvpop2cXrCA2fVFH43iRwH6C6UfJhy9"]},".import_cache/source/interfaces/ICodeManager.sol":{"keccak256":"0xccf2a8e10bc128662e06231eafea6240eafe1474e07f063d2c63d55f84dbe9b8","license":"Apache-2.0","urls":["bzz-raw://7cffe549a22126924c385dd8fbd32da51fa2bb03cda099baae9dbf5e4caf19a9","dweb:/ipfs/QmczJdcQtqtRsBZDzViLwqZvibTM1dZ4P2bzqNKBKEAkEm"]},".import_cache/source/interfaces/IRedeemable.sol":{"keccak256":"0xd49748671ec02cfa0cd6de3aa25b83da9b26d18ee0821be4954d1cc49c48ec27","license":"Apache-2.0","urls":["bzz-raw://7363655c1275c528746ed6aaebd3a4e1ba14696dd6f1c55941131d7a83009811","dweb:/ipfs/QmP7oeJmivzXwpRKLqLybiLwsaNWKd3uin9sAn1EC4rABb"]}},"version":1}