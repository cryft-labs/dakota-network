{"compiler":{"version":"0.8.34+commit.80d5c536"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bool","name":"status","type":"bool"}],"name":"AuthorizationUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":false,"internalType":"string","name":"contentId","type":"string"}],"name":"ContentUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":false,"internalType":"bytes32","name":"codeHash","type":"bytes32"},{"indexed":false,"internalType":"bool","name":"status","type":"bool"}],"name":"DataStoredStatus","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":false,"internalType":"bool","name":"frozen","type":"bool"}],"name":"FrozenStatusUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"contractAddress","type":"address"},{"indexed":false,"internalType":"bytes","name":"encodedCall","type":"bytes"}],"name":"PenteExternalCall","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":false,"internalType":"address","name":"redeemer","type":"address"},{"indexed":false,"internalType":"bool","name":"status","type":"bool"}],"name":"RedeemStatus","type":"event"},{"inputs":[],"name":"MAX_PER_PIN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"authorize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"codeManager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"deauthorize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"getContentId","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isAuthorized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"isFrozen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"isRedeemed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isRedemptionVerified","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"pinSlotCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"pinToHash","outputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"bool","name":"exists","type":"bool"},{"internalType":"bool","name":"frozen","type":"bool"},{"internalType":"bool","name":"redeemed","type":"bool"},{"internalType":"string","name":"contentId","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"pin","type":"string"},{"internalType":"bytes32","name":"codeHash","type":"bytes32"}],"name":"redeemCode","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"redemptionRedeemer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"string","name":"contentId","type":"string"}],"name":"setContent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"bool","name":"frozen","type":"bool"}],"name":"setFrozen","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string[]","name":"uniqueIds","type":"string[]"},{"internalType":"string[]","name":"pins","type":"string[]"},{"internalType":"bytes32[]","name":"codeHashes","type":"bytes32[]"}],"name":"storeDataBatch","outputs":[{"internalType":"bool[]","name":"stored","type":"bool[]"}],"stateMutability":"nonpayable","type":"function"}],"devdoc":{"kind":"dev","methods":{"storeDataBatch(string[],string[],bytes32[])":{"params":{"codeHashes":"Array of keccak256(giftCode) hashes.","pins":"Array of PINs (bucket keys for O(1) lookup).","uniqueIds":"Array of unique IDs (must be registered in CodeManager)."},"returns":{"stored":"Per-index boolean indicating which entries were stored."}}},"stateVariables":{"MAX_PER_PIN":{"details":"Maximum number of hash/uniqueId entries allowed per PIN slot."},"_isFrozen":{"details":"Per-UID private state tracking."},"admin":{"details":"Admin address \u2014 deployer of this private contract within the privacy group."},"codeManager":{"details":"The CodeManager address on the public chain.      PenteExternalCall events target this address.      Hard-code before deployment to match the deployed CodeManager proxy."},"isAuthorized":{"details":"Authorized callers within the privacy group (e.g., redemption service)."},"isRedemptionVerified":{"details":"Redemption records (private tracking within privacy group)."},"pinSlotCount":{"details":"Tracks how many hashes are currently stored under each PIN."},"pinToHash":{"details":"PIN \u2192 codeHash \u2192 code metadata. The PIN acts as a bucket      index for efficient O(1) lookup. The codeHash is keccak256(giftCode)      where giftCode = pin + code, computed off-chain.      Patent Claim 2: hash+salt combination for code representation.      Patent Claim 3: PIN-based bucket routing for O(1) lookup."}},"version":1},"userdoc":{"kind":"user","methods":{"getContentId(string)":{"notice":"Returns the content identifier for a UID (private state)."},"isFrozen(string)":{"notice":"Returns whether a UID is frozen (private state)."},"isRedeemed(string)":{"notice":"Returns whether a UID has been redeemed (private tracking)."},"redeemCode(string,bytes32)":{"notice":"Redeem a code by submitting its PIN and hash.         Off-chain: giftCode = pin + code, codeHash = keccak256(giftCode).         PIN routes to the correct bucket, hash verifies the code.         No cleartext code ever touches the chain. O(1) lookup."},"redemptionRedeemer(string)":{"notice":"Returns the address that redeemed the code for this unique ID.         Returns address(0) if no verified redemption exists."},"setContent(string,string)":{"notice":"Set content for a UID. Emits PenteExternalCall to         route through CodeManager \u2192 gift contract.         Spec [0067]: admin changes what code redeems to."},"setFrozen(string,bool)":{"notice":"Set frozen status for a UID. Emits PenteExternalCall to         route through CodeManager \u2192 gift contract.         Patent Claim 6: updating state by authorized manager.         Patent Claim 10: freeze upon compromised notification."},"storeDataBatch(string[],string[],bytes32[])":{"notice":"Store multiple pre-computed hashes in one transaction.         Each stored code defaults to frozen=true."}},"version":1}},"settings":{"compilationTarget":{".import_cache/source/PrivateComboStorage.sol":"PrivateComboStorage"},"evmVersion":"prague","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{".import_cache/source/PrivateComboStorage.sol":{"keccak256":"0x818d770c8f3ec4059feaf1932d43b9f7d3ba9435a75ec43c22a5bff0433204ef","license":"Apache-2.0","urls":["bzz-raw://4dae3c7b90842cff2d458c10288df875e383d880b8928f99e9ec7e2cae2e63d5","dweb:/ipfs/QmU8omcV6c9JA7c8xySnMcKZnFhsvg6PQMyv14yBYfgM2B"]},".import_cache/source/interfaces/ICodeManager.sol":{"keccak256":"0xccf2a8e10bc128662e06231eafea6240eafe1474e07f063d2c63d55f84dbe9b8","license":"Apache-2.0","urls":["bzz-raw://7cffe549a22126924c385dd8fbd32da51fa2bb03cda099baae9dbf5e4caf19a9","dweb:/ipfs/QmczJdcQtqtRsBZDzViLwqZvibTM1dZ4P2bzqNKBKEAkEm"]},".import_cache/source/interfaces/IComboStorage.sol":{"keccak256":"0xa808421e3b7a880ea2047c001ae3b0f1553549cb3e324cf74a07c72d6d49752d","license":"Apache-2.0","urls":["bzz-raw://079cfa56f5da9510e3b03c4c8409028e6f4d43e3654ea390a532ad5cb829bf36","dweb:/ipfs/QmYjwKutzwDjR15deaBtrrGemAbdxV3WjwvJycjqCrNebb"]}},"version":1}