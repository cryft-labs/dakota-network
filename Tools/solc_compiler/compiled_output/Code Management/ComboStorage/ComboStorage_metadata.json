{"compiler":{"version":"0.8.34+commit.80d5c536"},"language":"Solidity","output":{"abi":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":false,"internalType":"bytes32","name":"codeHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"string","name":"chainId","type":"string"},{"indexed":false,"internalType":"uint256","name":"storedCounter","type":"uint256"},{"indexed":false,"internalType":"bool","name":"status","type":"bool"}],"name":"DataStoredStatus","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":false,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"string","name":"chainId","type":"string"},{"indexed":false,"internalType":"address","name":"redeemer","type":"address"},{"indexed":false,"internalType":"bool","name":"status","type":"bool"}],"name":"RedeemStatus","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bool","name":"status","type":"bool"}],"name":"WhitelistUpdated","type":"event"},{"inputs":[],"name":"MAX_PER_PIN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"addToWhitelist","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"codeManager","outputs":[{"internalType":"contract ICodeManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"getContentId","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isFrozen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isRedeemed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isRedemptionVerified","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isWhitelisted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"overlord","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"pinSlotCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"pinToHash","outputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"bool","name":"exists","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"pin","type":"string"},{"internalType":"bytes32","name":"codeHash","type":"bytes32"}],"name":"redeemCode","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"redemptionRedeemer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"removeFromWhitelist","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string[]","name":"uniqueIds","type":"string[]"},{"internalType":"string[]","name":"pins","type":"string[]"},{"internalType":"bytes32[]","name":"codeHashes","type":"bytes32[]"}],"name":"storeDataBatch","outputs":[{"internalType":"bool[]","name":"stored","type":"bool[]"}],"stateMutability":"nonpayable","type":"function"}],"devdoc":{"kind":"dev","methods":{"storeDataBatch(string[],string[],bytes32[])":{"returns":{"stored":"Per-index boolean indicating which entries were stored."}}},"stateVariables":{"MAX_PER_PIN":{"details":"Maximum number of hash/uniqueId entries allowed per PIN slot."},"codeManager":{"details":"Hard-code the CodeManager address before deployment.      Update this value to match the deployed CodeManager proxy."},"overlord":{"details":"Hard-code the overlord address before deployment.      This address is pre-whitelisted and can add/remove whitelist entries."},"pinSlotCount":{"details":"Tracks how many hashes are currently stored under each PIN."},"pinToHash":{"details":"PIN \u2192 codeHash \u2192 redemption details. The PIN acts as a bucket      index for efficient O(1) lookup. The codeHash is keccak256(giftCode)      where giftCode = pin + code, computed off-chain."}},"version":1},"userdoc":{"kind":"user","methods":{"getContentId(string)":{"notice":"Returns the content identifier for a UID (private state)."},"isFrozen(string)":{"notice":"Returns whether a UID is frozen (private state)."},"isRedeemed(string)":{"notice":"Returns whether a UID has been redeemed (private tracking)."},"isRedemptionVerified(string)":{"notice":"Returns true if a verified redemption exists for this unique ID."},"redeemCode(string,bytes32)":{"notice":"Redeem a code by submitting its PIN and hash.         Off-chain: giftCode = pin + code, codeHash = keccak256(giftCode).         PIN routes to the correct bucket, hash verifies the code.         No cleartext code ever touches the chain. O(1) lookup."},"redemptionRedeemer(string)":{"notice":"Returns the address that redeemed the code for this unique ID.         Returns address(0) if no verified redemption exists."},"storeDataBatch(string[],string[],bytes32[])":{"notice":"Store multiple pre-computed hashes in one transaction.         Codes that cannot be stored (PIN slot full, duplicate hash,         invalid uniqueId, etc.) are skipped with a status=false event.         The transaction always succeeds \u2014 partial storage is allowed."}},"version":1}},"settings":{"compilationTarget":{".import_cache/source/ComboStorage.sol":"ComboStorage"},"evmVersion":"prague","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{".import_cache/source/ComboStorage.sol":{"keccak256":"0xc4135ba640c71d950613bd3f52aa987b66563b1f233e10499ff6cc10326ab8a2","license":"Apache-2.0","urls":["bzz-raw://661ce15e26415e4cee18bfe66dfa8098db57d1895d22f9c0018744c21a23109a","dweb:/ipfs/Qmbp9BoYKHsQiwfiueZpCcaedd8MWafe9tvSVWPFhzYsbQ"]},".import_cache/source/interfaces/ICodeManager.sol":{"keccak256":"0xccf2a8e10bc128662e06231eafea6240eafe1474e07f063d2c63d55f84dbe9b8","license":"Apache-2.0","urls":["bzz-raw://7cffe549a22126924c385dd8fbd32da51fa2bb03cda099baae9dbf5e4caf19a9","dweb:/ipfs/QmczJdcQtqtRsBZDzViLwqZvibTM1dZ4P2bzqNKBKEAkEm"]},".import_cache/source/interfaces/IComboStorage.sol":{"keccak256":"0xa808421e3b7a880ea2047c001ae3b0f1553549cb3e324cf74a07c72d6d49752d","license":"Apache-2.0","urls":["bzz-raw://079cfa56f5da9510e3b03c4c8409028e6f4d43e3654ea390a532ad5cb829bf36","dweb:/ipfs/QmYjwKutzwDjR15deaBtrrGemAbdxV3WjwvJycjqCrNebb"]},".import_cache/source/interfaces/IRedeemable.sol":{"keccak256":"0x5eccca7b6538779c923c31ec14f56cb7c6fcc7e5e33ff87b11a41bd015e9fe44","license":"Apache-2.0","urls":["bzz-raw://eccb8342ad6263a4dc1427c32b17a6092a44a99fceb027389399fe8055c4cdde","dweb:/ipfs/QmWjAsqns6pk1mqKXTuW8femxsQkrqkE8ruEakLmDPEnDn"]}},"version":1}