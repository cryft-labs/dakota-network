{"compiler":{"version":"0.8.34+commit.80d5c536"},"language":"Solidity","output":{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":true,"internalType":"address","name":"newAdmin","type":"address"},{"indexed":false,"internalType":"uint256","name":"currentVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"AdminChangeProposed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"previousAdmin","type":"address"},{"indexed":false,"internalType":"address","name":"newAdmin","type":"address"}],"name":"AdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"beacon","type":"address"}],"name":"BeaconUpgraded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":false,"internalType":"uint256","name":"currentVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ClearGuardiansProposed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":false,"internalType":"uint256","name":"newExpiry","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"currentVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ExpiryChangeProposed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guardian","type":"address"}],"name":"GuardianAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"bool","name":"isAdd","type":"bool"},{"indexed":false,"internalType":"uint256","name":"currentVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"GuardianChangeProposed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guardian","type":"address"}],"name":"GuardianRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"count","type":"uint256"}],"name":"GuardiansCleared","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"overlord","type":"address"}],"name":"OverlordAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"bool","name":"isAdd","type":"bool"},{"indexed":false,"internalType":"uint256","name":"currentVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"OverlordChangeProposed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"overlord","type":"address"}],"name":"OverlordRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"proposalKey","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"newRound","type":"uint256"}],"name":"ProposalRoundExpired","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":false,"internalType":"uint256","name":"currentVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"RestoreRootProposed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":false,"internalType":"uint256","name":"currentVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"RevokeRootProposed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"restoredBy","type":"address"}],"name":"RootOverlordRestored","type":"event"},{"anonymous":false,"inputs":[],"name":"RootOverlordRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"implementation","type":"address"}],"name":"Upgraded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldExpiry","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newExpiry","type":"uint256"}],"name":"VoteExpiryChanged","type":"event"},{"stateMutability":"payable","type":"fallback"},{"inputs":[{"internalType":"address","name":"newOverlord","type":"address"}],"name":"proxy_addOverlord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"proxy_getActiveProposal","outputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32"},{"internalType":"uint256","name":"startBlock","type":"uint256"},{"internalType":"bool","name":"expired","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"name":"proxy_getAdminChangeProposalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getClearGuardiansProposalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"newExpiry","type":"uint256"}],"name":"proxy_getExpiryProposalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getGuardianCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAdd","type":"bool"}],"name":"proxy_getGuardianProposalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getGuardians","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getIsInit","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getOverlordCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getOverlordThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAdd","type":"bool"}],"name":"proxy_getProposalStartBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAdd","type":"bool"}],"name":"proxy_getProposalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getRestoreRootProposalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getRevokeRootProposalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getRootOverlords","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getValidatorContract","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"proxy_getVoteEpoch","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_getVoteExpiry","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"},{"internalType":"address","name":"newAdmin","type":"address"}],"name":"proxy_hasVotedOnAdminChange","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"name":"proxy_hasVotedOnClearGuardians","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"},{"internalType":"uint256","name":"newExpiry","type":"uint256"}],"name":"proxy_hasVotedOnExpiryProposal","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"},{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAdd","type":"bool"}],"name":"proxy_hasVotedOnGuardianProposal","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"},{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAdd","type":"bool"}],"name":"proxy_hasVotedOnProposal","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"name":"proxy_hasVotedOnRestoreRoot","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"name":"proxy_hasVotedOnRevokeRoot","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"proxy_isGuardian","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"proxy_isOverlord","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_isRootOverlordRevoked","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxy_isVotingSessionActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_logic","type":"address"},{"internalType":"address","name":"admin_","type":"address"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"proxy_linkLogicAdmin","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"name":"proxy_proposeAdminChange","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"proxy_proposeClearGuardians","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newExpiry","type":"uint256"}],"name":"proxy_proposeExpiryChange","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAdd","type":"bool"}],"name":"proxy_proposeGuardianChange","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAdd","type":"bool"}],"name":"proxy_proposeOverlordChange","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"proxy_proposeRestoreRootOverlord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"proxy_proposeRevokeRootOverlord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"overlordToRemove","type":"address"}],"name":"proxy_removeOverlord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"proxy_revokeRootOverlord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}],"devdoc":{"details":"This contract implements a proxy that is upgradeable by an admin. To avoid https://medium.com/nomic-labs-blog/malicious-backdoors-in-ethereum-proxies-62629adf3357[proxy selector clashing], which can potentially be used in an attack, this contract uses the https://blog.openzeppelin.com/the-transparent-proxy-pattern/[transparent proxy pattern]. This pattern implies two things that go hand in hand: 1. If any account other than the admin calls the proxy, the call will be forwarded to the implementation, even if that call matches one of the admin functions exposed by the proxy itself. 2. If the admin calls the proxy, it can access the admin functions, but its calls will never be forwarded to the implementation. If the admin tries to call a function on the implementation it will fail with an error that says \"admin cannot fallback to proxy target\". These properties mean that the admin account can only be used for admin actions like upgrading the proxy or changing the admin, so it's best if it's a dedicated account that is not used for anything else. This will avoid headaches due to sudden errors when trying to call a function from the proxy implementation. Our recommendation is for the dedicated account to be an instance of the {ProxyAdmin} contract. If set up this way, you should think of the `ProxyAdmin` instance as the real administrative interface of your proxy. NOTE: The real interface of this proxy is that defined in `ITransparentUpgradeableProxy`. This contract does not inherit from that interface, and instead the admin functions are implicitly implemented using a custom dispatch mechanism in `_fallback`. Consequently, the compiler will not produce an ABI for this contract. This is necessary to fully implement transparency without decoding reverts caused by selector clashes between the proxy and the implementation. WARNING: It is not recommended to extend this contract to add additional external functions. If you do so, the compiler will not check that there are no selector conflicts, due to the note above. A selector clash between any new function and the functions declared in {ITransparentUpgradeableProxy} will be resolved in favor of the new one. This could render the admin operations inaccessible, which could prevent upgradeability. Transparency may also be compromised.","events":{"AdminChanged(address,address)":{"details":"Emitted when the admin account has changed."},"BeaconUpgraded(address)":{"details":"Emitted when the beacon is changed."},"Upgraded(address)":{"details":"Emitted when the implementation is upgraded."}},"kind":"dev","methods":{"proxy_getActiveProposal()":{"details":"View: returns the active proposal ID, the block it started, and      whether it has expired. Returns bytes32(0) if no proposal is active."},"proxy_getAdminChangeProposalVotes(address)":{"details":"View: current votes for an admin change proposal."},"proxy_getClearGuardiansProposalVotes()":{"details":"View: current votes for the clear guardians proposal."},"proxy_getExpiryProposalVotes(uint256)":{"details":"View: current votes for an expiry change proposal."},"proxy_getGuardianProposalVotes(address,bool)":{"details":"View: current votes for a guardian change proposal."},"proxy_getGuardians()":{"details":"View: returns all guardian addresses in the map."},"proxy_getOverlordCount()":{"details":"Returns total overlord count, including root overlords when active."},"proxy_getOverlordThreshold()":{"details":"Returns the minimum votes needed: ceil(voterCount * 2 / 3).      voterCount includes rootOverlord only when it is active (not revoked).      Examples: 1\u21921, 2\u21922, 3\u21922, 4\u21923, 5\u21924, 6\u21924"},"proxy_getProposalStartBlock(address,bool)":{"details":"View: block number when the current proposal round started (0 if none)."},"proxy_getProposalVotes(address,bool)":{"details":"View: current votes for a proposal in this epoch."},"proxy_getRestoreRootProposalVotes()":{"details":"View: current votes for the restore root overlord proposal."},"proxy_getRevokeRootProposalVotes()":{"details":"View: current votes for the revoke root overlord proposal."},"proxy_getRootOverlords()":{"details":"Returns root overlords as reported by the validator contract (0x1111)."},"proxy_getValidatorContract()":{"details":"Returns the address of the genesis validator contract."},"proxy_getVoteEpoch()":{"details":"View: current vote epoch (increments on every executed proposal or direct overlord change)."},"proxy_hasVotedOnAdminChange(address,address)":{"details":"View: has a specific overlord voted on an admin change proposal?"},"proxy_hasVotedOnClearGuardians(address)":{"details":"View: has a specific overlord voted on the clear guardians proposal?"},"proxy_hasVotedOnExpiryProposal(address,uint256)":{"details":"View: has a specific overlord voted on an expiry change proposal?"},"proxy_hasVotedOnGuardianProposal(address,address,bool)":{"details":"View: has a specific overlord voted on a guardian change proposal?"},"proxy_hasVotedOnProposal(address,address,bool)":{"details":"View: has a specific overlord voted on a proposal in this epoch?"},"proxy_hasVotedOnRestoreRoot(address)":{"details":"View: has a specific overlord voted on the restore root proposal?"},"proxy_hasVotedOnRevokeRoot(address)":{"details":"View: has a specific overlord voted on the revoke root proposal?"},"proxy_isVotingSessionActive()":{"details":"View: is a voting session currently active?"},"proxy_proposeAdminChange(address)":{"details":"Overlords vote to change the proxy admin (the ProxyAdmin contract).      This is a governance-level action \u2014 changing who controls upgrades.      Auto-executes at 2/3 threshold."},"proxy_proposeClearGuardians()":{"details":"Overlords vote to clear all guardians at once.      Auto-executes at 2/3 threshold. Subject to the same expiry/session rules.      Guardians are temporary \u2014 add them for setup, clear when done."},"proxy_proposeExpiryChange(uint256)":{"details":"Any overlord can propose a new vote expiry window.      Auto-executes at 2/3 threshold. Subject to the same expiry window.      Minimum expiry: 100 blocks (~5 minutes at 3s blocks) to prevent abuse."},"proxy_proposeGuardianChange(address,bool)":{"details":"Overlords vote to add or remove a guardian.      Auto-executes at 2/3 threshold. Subject to same expiry/session rules."},"proxy_proposeOverlordChange(address,bool)":{"details":"Any overlord can propose or vote to add/remove an overlord.      When 2/3 threshold is met, the change auto-executes and all      pending proposals are invalidated (epoch increments).      Works independently of rootOverlord \u2014 allows self-governance."},"proxy_proposeRestoreRootOverlord()":{"details":"Overlords vote to restore root overlord privileges.      Root overlord cannot participate (it's revoked).      Auto-executes at 2/3 threshold."},"proxy_proposeRevokeRootOverlord()":{"details":"Overlords vote to forcibly revoke root overlord privileges.      This is separate from revokeRootOverlord() which is voluntary.      Root overlord CAN vote here (it counts toward threshold).      Auto-executes at 2/3 threshold."},"proxy_revokeRootOverlord()":{"details":"Root overlord voluntarily disables its own privileges.      Requires at least one other overlord to exist so the system      is not left without governance.      Only another overlord can restore access via restoreRootOverlord()."}},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"compilationTarget":{".import_cache/source/TransparentUpgradeableProxy.sol":"TransparentUpgradeableProxy"},"evmVersion":"prague","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{".import_cache/ERC1967/ERC1967Proxy.sol":{"keccak256":"0x8019a865ac6ee95562c968ce139a872f72851327adfcb9957acc4b6e48007abf","license":"MIT","urls":["bzz-raw://48e66b403c73e4156512a50150cc13fc7bfc0c5e324b5acef1fb5af6cf3b4fb5","dweb:/ipfs/QmVfo6QMgew3mESUX9Sk5azdcnB4eTD1Cg6N7hvn7wD36d"]},".import_cache/ERC1967/ERC1967Upgrade.sol":{"keccak256":"0x47d9f8804c4ec7f2ac777ef2425e4e5dae202d3b3994d2652429e7a6c4c7e2c3","license":"MIT","urls":["bzz-raw://82a4da21c7fa5faef1dee5d97ad9d0644f30e0531ab5430e552bb836093c3e61","dweb:/ipfs/QmeSotpZ11tqHW8uh8MzETZsUUgsrbMz3NyGEmHaaZGbSJ"]},".import_cache/Proxy.sol":{"keccak256":"0xaa2136d53fdd929bf5c08199a3bf664e83dbeab21696613aa66f611db0e26cda","license":"MIT","urls":["bzz-raw://16a5f2cb4ce5313252a78a2329f23a8e4b5729767da8cbcf3250589ba564e4d7","dweb:/ipfs/QmQctpy4K31cgUkpoXGihEt7sB85ekDf8TKjiL6PxgfB7V"]},".import_cache/beacon/IBeacon.sol":{"keccak256":"0xbf46106d988a470c1d8f40ed421a72e96e111a204cafd51789bad90359636294","license":"MIT","urls":["bzz-raw://142970490626b356469bd0d7a7a7417d11818a835067853af2445720e9ccd973","dweb:/ipfs/QmTBMZNZLE4qQ61wMWmSVWzt79NXgoMivkwKXA1eXf1hfX"]},".import_cache/source/TransparentUpgradeableProxy.sol":{"keccak256":"0x83189e7b8764d13410de6b28b1cb1a36338e0cebd4debc2cd8c837eb8a4e189d","license":"MIT","urls":["bzz-raw://e1e0c3de9159c0b8e4c4702674a4db54f68e995db47b28ddefcfd356e7df8162","dweb:/ipfs/QmPHcSzrKgX8LhHTeYgzrUWPraTnUumKsHLnAe7nnvArpR"]},"interfaces/IERC1967.sol":{"keccak256":"0x842e8a4ab27e2ab83faf9d99cf7ab2e408ced7e4e456dcf0beac7aa164837149","license":"MIT","urls":["bzz-raw://3e7831eba5db9ca4fcc8f06ee630f489d7a320b7b7933b877043565b553d7571","dweb:/ipfs/QmWUTezK8eYouHAMQecf2ht61ykmc63Xz2f9jL52L7MVMN"]},"interfaces/draft-IERC1822.sol":{"keccak256":"0x9ceb07609940a40f9667310d7fba051e2edb92098677bcbd79d208b4496cc249","license":"MIT","urls":["bzz-raw://020bec7d7d637eabb82a206b49620b9c4be558b4c5c00dd0c1197044c3ab5572","dweb:/ipfs/QmbNiK82MGmVohehvvTjmtYWHdiqbGnAiakmqpwrkrvjym"]},"utils/Address.sol":{"keccak256":"0x34dd4c258a25cf0ee4555e66bd1355d13ad2fbdf61c3f109312dba10cd66512b","license":"MIT","urls":["bzz-raw://655548e24bde468b7f8e09e6e82b732a185d34fb697c271ea74dfd7b67cdf8d9","dweb:/ipfs/QmdyR1pVcto9yKD9jNG9XkoEmma9M76MAoC3zuGYrj71ZY"]},"utils/StorageSlot.sol":{"keccak256":"0x1c60ea7e9e5d186958baa684bf16db00b4ddd31ad363cbb7f3497a318df87a0d","license":"MIT","urls":["bzz-raw://2350f8ae61d4bcaeda95a07ae318b4f06bb59c71b002f71680ee70d7a46c681a","dweb:/ipfs/QmYqyoqDYScZRsmzpaBECSD15W5N6uDKiHc7G5pnK3yxEn"]}},"version":1}