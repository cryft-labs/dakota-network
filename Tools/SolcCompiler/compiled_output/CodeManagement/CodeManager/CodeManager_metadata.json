{"compiler":{"version":"0.8.34+commit.80d5c536"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"string","name":"contentId","type":"string"}],"name":"ContentChangeRouted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"bool","name":"frozen","type":"bool"}],"name":"FrozenStatusRouted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"bool","name":"added","type":"bool"}],"name":"OtherVoterContractUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"privacyGroup","type":"address"},{"indexed":false,"internalType":"bool","name":"authorized","type":"bool"}],"name":"PrivacyGroupAuthorized","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uniqueId","type":"string"},{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":true,"internalType":"address","name":"redeemer","type":"address"}],"name":"RedemptionRouted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"RegistrationFeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"newValue","type":"uint256"}],"name":"StateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"giftContract","type":"address"},{"indexed":false,"internalType":"string","name":"chainId","type":"string"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"UniqueIdsRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":false,"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"target","type":"uint256"}],"name":"VoteCast","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"target","type":"uint256"}],"name":"VoteTallyReset","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"bool","name":"added","type":"bool"}],"name":"VoterUpdated","type":"event"},{"inputs":[],"name":"activeVoteCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeVault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"contractIdentifier","type":"string"}],"name":"getContractData","outputs":[{"components":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"}],"internalType":"struct ICodeManager.ContractData","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"}],"name":"getIdentifierCounter","outputs":[{"internalType":"string","name":"contractIdentifier","type":"string"},{"internalType":"uint256","name":"counter","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSupermajorityThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"getUniqueIdContent","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"getUniqueIdDetails","outputs":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"},{"internalType":"uint256","name":"counter","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"internalType":"uint256","name":"target","type":"uint256"}],"name":"getVoteTally","outputs":[{"internalType":"uint256","name":"totalVotes","type":"uint256"},{"internalType":"uint256","name":"startVoteBlock","type":"uint256"},{"internalType":"uint256","name":"voteExpirationBlock","type":"uint256"},{"internalType":"address[]","name":"votedAddresses","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getVoters","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum CodeManager.VoteType","name":"","type":"uint8"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"hasVoted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isAuthorizedPrivacyGroup","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"isUniqueIdFrozen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"isUniqueIdRedeemed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"potentialVoter","type":"address"}],"name":"isVoter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isWhitelistedAddress","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"otherVoterContracts","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"address","name":"redeemer","type":"address"}],"name":"recordRedemption","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"giftContract","type":"address"},{"internalType":"string","name":"chainId","type":"string"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"registerUniqueIds","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"registrationFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum CodeManager.VoteType","name":"voteType","type":"uint8"},{"internalType":"uint256","name":"target","type":"uint256"}],"name":"resetExpiredTally","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"string","name":"contentId","type":"string"}],"name":"setUidContent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"},{"internalType":"bool","name":"frozen","type":"bool"}],"name":"setUidFrozen","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uniqueId","type":"string"}],"name":"validateUniqueId","outputs":[{"internalType":"bool","name":"isValid","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteTallyBlockThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"voterContract","type":"address"}],"name":"voteToAddOtherVoterContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"name":"voteToAddVoter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newAddress","type":"address"}],"name":"voteToAddWhitelistedAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"privacyGroup","type":"address"}],"name":"voteToAuthorizePrivacyGroup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"voterContract","type":"address"}],"name":"voteToRemoveOtherVoterContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"name":"voteToRemoveVoter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"removeAddress","type":"address"}],"name":"voteToRemoveWhitelistedAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newFeeVault","type":"address"}],"name":"voteToUpdateFeeVault","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"voteToUpdateRegistrationFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_blocks","type":"uint256"}],"name":"voteToUpdateVoteTallyBlockThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"votersArray","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"devdoc":{"events":{"Initialized(uint8)":{"details":"Triggered when the contract has been initialized or reinitialized."}},"kind":"dev","methods":{},"stateVariables":{"isAuthorizedPrivacyGroup":{"details":"Authorized Pente privacy groups that can call router functions."}},"version":1},"userdoc":{"kind":"user","methods":{"getContractData(string)":{"notice":"Returns the contract data (giftContract, chainId) for a given contract identifier."},"getIdentifierCounter(address,string)":{"notice":"Get the counter for a given giftContract + chainId, computed on the fly."},"getUniqueIdContent(string)":{"notice":"Returns the content identifier for a UID, as reported by its gift contract."},"getUniqueIdDetails(string)":{"notice":"Returns the registration details for a unique ID."},"isUniqueIdFrozen(string)":{"notice":"Returns whether a UID is frozen, as reported by its gift contract."},"isUniqueIdRedeemed(string)":{"notice":"Returns whether a UID has been redeemed, as reported by its gift contract."},"isWhitelistedAddress(address)":{"notice":"Returns whether an address is whitelisted."},"recordRedemption(string,address)":{"notice":"Route a redemption from the Pente privacy group to the gift contract.         The gift contract decides how to handle the redemption \u2014 single-use,         multi-use, NFT mint, etc. If the gift contract reverts, the entire         Pente transition rolls back atomically."},"registerUniqueIds(address,string,uint256)":{"notice":"Register a single or batch of unique IDs by incrementing the counter range.         Permissionless \u2014 anyone can call as long as they pay `registrationFee * quantity`.         Works for both direct EOA calls and calls from external contracts.         Payment is forwarded to the feeVault."},"registrationFee()":{"notice":"The fee (in wei) required per unique ID registration."},"resetExpiredTally(uint8,uint256)":{"notice":"Voter-only function to reset an expired tally and decrement the active vote counter.         Call this to clean up stale tallies that would otherwise block voter-pool changes."},"setUidContent(string,string)":{"notice":"Route a content change from the Pente privacy group to the gift contract."},"setUidFrozen(string,bool)":{"notice":"Route a freeze/unfreeze from the Pente privacy group to the gift contract."},"validateUniqueId(string)":{"notice":"Returns whether a unique ID was validly registered (valid counter, valid contract identifier)."},"voteToAuthorizePrivacyGroup(address)":{"notice":"Vote to authorize (or de-authorize) a Pente privacy group address.         Authorized privacy groups can call router functions."}},"version":1}},"settings":{"compilationTarget":{"Tools/SolcCompiler/.import_cache/source/CodeManagement/CodeManager.sol":"CodeManager"},"evmVersion":"osaka","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"Tools/SolcCompiler/.import_cache/source/CodeManagement/CodeManager.sol":{"keccak256":"0x16122c22aefc89c6be4fba10084ddd674d0f9cc860796543fa04a1283b0f8d7d","license":"Apache-2.0","urls":["bzz-raw://b7242da525665aabd44921c6c082a67ee290a030e27f87028439087e9ca08e1c","dweb:/ipfs/QmYwhB31mMcT9BiLHyeoeDMnTbmryKxYmX9Eqv24LchCWE"]},"Tools/SolcCompiler/.import_cache/source/CodeManagement/Interfaces/ICodeManager.sol":{"keccak256":"0xccf2a8e10bc128662e06231eafea6240eafe1474e07f063d2c63d55f84dbe9b8","license":"Apache-2.0","urls":["bzz-raw://7cffe549a22126924c385dd8fbd32da51fa2bb03cda099baae9dbf5e4caf19a9","dweb:/ipfs/QmczJdcQtqtRsBZDzViLwqZvibTM1dZ4P2bzqNKBKEAkEm"]},"Tools/SolcCompiler/.import_cache/source/CodeManagement/Interfaces/IRedeemable.sol":{"keccak256":"0xd49748671ec02cfa0cd6de3aa25b83da9b26d18ee0821be4954d1cc49c48ec27","license":"Apache-2.0","urls":["bzz-raw://7363655c1275c528746ed6aaebd3a4e1ba14696dd6f1c55941131d7a83009811","dweb:/ipfs/QmP7oeJmivzXwpRKLqLybiLwsaNWKd3uin9sAn1EC4rABb"]},"Tools/SolcCompiler/.import_cache/source/Genesis/Upgradeable/AddressUpgradeable.sol":{"keccak256":"0x13ae7dbe71ac7619a91a7e4feb14c359cce566628fc9b89e628d26d1fcf1dacd","license":"MIT","urls":["bzz-raw://f4abbc24ea7cf6d166336343ef079f4d07c09e3b59736c27163a804c2af9a155","dweb:/ipfs/QmYNFgMQpYjdNPFrPZqL21rD5bjKwZ6pcodbw4GVEtkMTg"]},"Tools/SolcCompiler/.import_cache/source/Genesis/Upgradeable/Initializable.sol":{"keccak256":"0xd9a2f64a62c7faae39d61ad297f79d0c5255297a6c1d0eb195211e11f6d5bc7b","license":"MIT","urls":["bzz-raw://ee71c8ce8c8727284425bbd26ee7732e1f39156560a55048735eeb2f372b2ef1","dweb:/ipfs/QmPeL6pqGnoydRCW1zWYQfoLkFvdPqijFBR9zWktrnUVxv"]},"Tools/SolcCompiler/.import_cache/source/Genesis/Upgradeable/Utils/Math/MathUpgradeable.sol":{"keccak256":"0xb9ee765e23e0c274637f4611bbb399c88c30bd77cac82941fc271fd645ca146a","license":"MIT","urls":["bzz-raw://d485858d8a945d5602e85ec86a9119545d8b59f0e12a1d6f7f4122a178dc55c4","dweb:/ipfs/QmRSJU5AfAqMjAK53hPMWyAfLaSyciPfQZMGwvWusoT8Pk"]},"Tools/SolcCompiler/.import_cache/source/Genesis/Upgradeable/Utils/Math/SignedMathUpgradeable.sol":{"keccak256":"0x9e587c352f970f440c59c84c4588aa242a0d2dc79a86c5a478f3cc015764a948","license":"MIT","urls":["bzz-raw://007055e2f7a95b826310479c4dfda9ba2969851751d8bfff51a2ce6dfb5b85eb","dweb:/ipfs/QmVcjavt9ptJHUdgvzbi1i7a5Qdj2JMD9zzRxnaZbw4QtA"]},"Tools/SolcCompiler/.import_cache/source/Genesis/Upgradeable/Utils/StringsUpgradeable.sol":{"keccak256":"0x09c66f3a791c2a1d64142d33838010eca36b2fef19dac9e021d506c4888a5b54","license":"MIT","urls":["bzz-raw://5b823463a268812361261a53f99fe9c6cd4907c013b2478d42ed5de8252a9967","dweb:/ipfs/QmZnbhjScj1VPHPTfq9kJbHwnFhnaYNxhKPMy3ByT8T4f9"]}},"version":1}